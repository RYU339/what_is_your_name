{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="result">
  <div class="result_img">
    {% if uploaded_file_url %}
      <img id='result_img' src="{{ uploaded_file_url }}">
    {% endif %}
    <audio id='audio' src='{{tts}}' type='audio/mp3'></audio>
  </div>
  <!-- ì´ë¯¸ì§€ ì´ë¦„, í™•ë¥ ê°’ ì¶œë ¥ -->
  <div class="result_value">
    <p><h3>{{ result_name }}</h3></t><img id="img" src="{% static 'assets/images/loud-speaker.png' %}"></p>
    <p><a class="detect_link" href="{% url 'can:detect_img_text' file_name=uploaded_file_name %}">ğŸ’š ì›í•˜ì‹œëŠ” ê²°ê³¼ê°€ ì—†ë‹¤ë©´ ëˆŒëŸ¬ì£¼ì„¸ìš”!</a></p>
  </div>
</div>

<!-- ìˆœìœ„ ê·¸ë˜í”„ -->
<div class="rank_bar">
    {{ div_rank | safe }}
    {{ script_rank | safe }}
</div>

<!-- ë°ì´í„° ì‚­ì œ -->
<div class="del_data">
  <a href="{% url 'can:delete' file_name=uploaded_file_name %}" onclick='alert("ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");'><img src="{% static 'assets/images/garbage.png' %}"></a>
</div>

<script>
  // ì›¹í˜ì´ì§€ê°€ ë¡œë”©ë˜ì—ˆì„ ë•Œ ìë™ìœ¼ë¡œ ì˜¤ë””ì˜¤ ì¬ìƒ
  window.onload = function() {
    document.getElementById('audio').play();
  }
  // ì´ë¯¸ì§€ë¥¼ ëˆŒë €ì„ ë•Œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ í†µí•´ ì˜¤ë””ì˜¤ íŒŒì¼ì„ ì¬ìƒ
  document.getElementById('img').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('audio').play();
  });

</script>
<!-- ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ê¸° ìœ„í•œ js -->
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.3.0.min.js" crossorigin="anonymous"></script>
<!-- ê·¸ë˜í”„ widgets, tables í•„ìš”ì‹œ ì¶”ê°€ -->
<!-- <script src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.0.min.js"
      crossorigin="anonymous"></script>
    <script src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.0.min.js"
      crossorigin="anonymous"></script> -->

{% endblock %}